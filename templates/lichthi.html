<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lịch thi</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background: linear-gradient(120deg, #f8fafc 60%, #e0e7ff 100%); }
        .main-card { max-width: 800px; margin: 50px auto; padding: 36px 32px 28px 32px; border-radius: 18px; box-shadow: 0 4px 24px rgba(0,0,0,0.08); background: #fff; }
        h2 { font-weight: 700; }
        .table-responsive { background: #f1f5f9; border-radius: 12px; padding: 18px; }
        table { width: 100%; border-collapse: collapse; font-size: 15px; }
        th, td { text-align: center; padding: 8px 6px !important; border: 1px solid #e5e7eb !important; vertical-align: middle !important; }
        th { background: #2563eb; color: #fff; font-weight: 600; }
        .table-striped tbody tr:nth-child(even) { background: #f8fafc; }
    </style>
</head>
<body>
<div class="main-card">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="mb-0">Lịch thi</h2>
        <a href="/" class="btn btn-outline-primary">Trang chủ</a>
    </div>
    <div id="lichthi_table" class="table-responsive bg-light rounded-3 p-3 shadow-sm">Đang tải...</div>
</div>
<script>
fetch('/api/lichthi').then(r=>r.json()).then(data=>{
    if(data.error){document.getElementById('lichthi_table').textContent=data.message;return;}
    if(!data.lichthiData || data.lichthiData.length === 0) {
        document.getElementById('lichthi_table').textContent = 'Bạn chưa có lịch thi';
        return;
    }
    let html = '<table class="table"><thead><tr><th>Mã HP</th><th>Tên môn</th><th>Số TC</th><th>Ngày thi</th><th>Ca thi</th><th>Hình thức</th><th>SBD</th><th>Phòng</th><th>Ghi chú</th></tr></thead><tbody>';
    data.lichthiData.forEach(e=>{
        html+=`<tr><td>${e.maHP}</td><td>${e.tenHP}</td><td>${e.soTC}</td><td>${e.ngayThi}</td><td>${e.caThi}</td><td>${e.hinhThucThi}</td><td>${e.soBaoDanh}</td><td>${e.phongThi}</td><td>${e.ghiChu}</td></tr>`;
    });
    html+='</tbody></table>';
    document.getElementById('lichthi_table').innerHTML=html;
});
</script>
</body>
</html>
