<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Lịch thi</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>body{background:#f8fafc}.main-card{max-width:700px;margin:40px auto;padding:32px;border-radius:16px;box-shadow:0 4px 24px rgba(0,0,0,0.08)}</style>
</head>
<body>
<div class="main-card bg-white">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h2 class="mb-0">Lịch thi</h2>
            <a href="/" class="btn btn-outline-primary">Trang chủ</a>
        </div>
        <div id="lichthi_table" class="table-responsive bg-light rounded-3 p-3 shadow-sm">Đang tải...</div>
</div>
<script>
fetch('/api/lichthi').then(r=>r.json()).then(data=>{
    if(data.error){document.getElementById('lichthi_table').textContent=data.message;return;}
    if(!data.lichthiData || data.lichthiData.length === 0) {
        document.getElementById('lichthi_table').textContent = 'Bạn chưa có lịch thi';
        return;
    }
    let html = '<table class="table"><thead><tr><th>Mã HP</th><th>Tên môn</th><th>Số TC</th><th>Ngày thi</th><th>Ca thi</th><th>Hình thức</th><th>SBD</th><th>Phòng</th><th>Ghi chú</th></tr></thead><tbody>';
    data.lichthiData.forEach(e=>{
        html+=`<tr><td>${e.maHP}</td><td>${e.tenHP}</td><td>${e.soTC}</td><td>${e.ngayThi}</td><td>${e.caThi}</td><td>${e.hinhThucThi}</td><td>${e.soBaoDanh}</td><td>${e.phongThi}</td><td>${e.ghiChu}</td></tr>`;
    });
    html+='</tbody></table>';
    document.getElementById('lichthi_table').innerHTML=html;
});
</script>
</body>
</html>
